"use strict";(self.webpackChunktms_part_3=self.webpackChunktms_part_3||[]).push([[879],{8879:(e,n,r)=>{r.r(n),r.d(n,{default:()=>J});var t=r(7294),a=r(9583),o=r(4272),i=r(6974),l=r(2645),c=r(305),s=r(4649),A=r(9779);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},p.apply(this,arguments)}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}const f=function(e){var n,r,a=(n=(0,s.U$)(e.name),r=3,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(n,r)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];return a[2],t.createElement("div",null,t.createElement("input",p({},e,o)),i.touched&&i.error&&t.createElement("p",{className:"field__error"},i.error))};var m=r(9669),d=r.n(m),_=r(3379),g=r.n(_),h=r(7795),C=r.n(h),x=r(569),y=r.n(x),b=r(3565),v=r.n(b),E=r(9216),w=r.n(E),N=r(4589),I=r.n(N),k=r(9369),B={};function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}B.styleTagTransform=I(),B.setAttributes=v(),B.insert=y().bind(null,"head"),B.domAPI=C(),B.insertStyleElement=w(),g()(k.Z,B),k.Z&&k.Z.locals&&k.Z.locals;const J=function(){var e=(0,i.s0)(),n=(0,c.I0)(),r=(0,c.v9)(l.HR),p=S((0,t.useState)(!1),2),u=p[0],m=p[1],_=S((0,t.useState)(!1),2),g=_[0],h=_[1],C=function(){n({type:"userLogOut"}),e(o.m.initialPage)},x=function(e){var n={};return u&&!e.changeName&&(n.changeName="Поле не должно быть пустым!"),g&&!e.changePass&&(n.changePass="Поле не должно быть пустым!"),u&&e.changeName.length>11&&(n.changeName="Имя не должно быть длиннее 11 символов"),n};return t.createElement(t.Fragment,null,t.createElement("div",{className:"profile__wrap"},t.createElement(a.q1E,{className:"profile__icon"}),t.createElement("h2",{className:"profile__username"},r),t.createElement("div",{className:"profile__liked-books"}),t.createElement("ul",{className:"profile__menu"},t.createElement("li",{className:"profile__item",onClick:function(){return e(o.m.bookPage((9,n=1+9*Math.random(),Math.round(n))));var n}},"Посоветуйте мне книгу!"),t.createElement(s.J9,{initialValues:{changeName:""},validate:x,onSubmit:function(e){(0,A.u)().then((function(n){var t=n.data.find((function(e){return e.name===r}));d().patch("http://localhost:8000/users/".concat(t.id),{name:e.changeName})})),C()}},t.createElement(s.l0,null,t.createElement("li",{onClick:function(){return m(!u)},className:"profile__item"},"Сменить имя"),t.createElement("div",{className:u?"profile__change":"profile__change--default"},t.createElement(f,{name:"changeName",type:"text",placeholder:"Новое имя",required:!0,className:"profile__change--login"}),t.createElement("button",{type:"submit"},"Сохранить")),!u&&t.createElement("p",{className:"logout__text"},"!!!ОСТОРОЖНО, ПРИ ИЗМЕНЕНИИ ИМЕНИ ИЛИ ПАРОЛЯ ВАМ ПРИДЕТЬСЯ ПЕРЕЗАЙТИ В АККАУНТ!!!"))),t.createElement(s.J9,{initialValues:{changePass:""},validate:x,onSubmit:function(e){(0,A.u)().then((function(n){var t=n.data.find((function(e){return e.name===r}));d().patch("http://localhost:8000/users/".concat(t.id),{password:e.changePass})})),C()}},t.createElement(s.l0,null,t.createElement("li",{onClick:function(){return h(!g)},className:"profile__item"},"Сменить пароль"),t.createElement("div",{className:g?"profile__change":"profile__change--default"},t.createElement(f,{name:"changePass",type:"password",placeholder:"Новый пороль",required:!0,className:"profile__change--pass"}),t.createElement("button",{type:"submit"},"Сохранить")),!g&&t.createElement("p",{className:"logout__text"},"!!!ОСТОРОЖНО, ПРИ ИЗМЕНЕНИИ ИМЕНИ ИЛИ ПАРОЛЯ ВАМ ПРИДЕТЬСЯ ПЕРЕЗАЙТИ В АККАУНТ!!!"))),t.createElement("li",{className:"profile__item",onClick:C},"Я хочу выйти с аккаунта!"),t.createElement("li",{className:"profile__item"},t.createElement("a",{target:"_blank",href:"https://t.me/Abz_mijon"},"Хочу написать разработчику сайта")))))}},7840:(e,n,r)=>{r.d(n,{Z:()=>l});var t=r(9669),a=r.n(t),o=r(691),i=a().create({baseURL:"http://localhost:8000/"});i.interceptors.response.use((function(e){return o.h.dispatch({type:"noError"}),e}),(function(e){throw o.h.dispatch({type:"throwError",payload:{message:e.message}}),new Error(e)}));const l=i},9779:(e,n,r)=>{r.d(n,{M:()=>o,u:()=>a});var t=r(7840),a=function(){return t.Z.get("/users")},o=function(e){return t.Z.get("/users/".concat(e))}},2645:(e,n,r)=>{r.d(n,{HR:()=>a,T_:()=>o,jl:()=>t});var t=function(e){return e.user.isLoggedIn},a=function(e){return e.user.name},o=function(e){return e.user.id}},9369:(e,n,r)=>{r.d(n,{Z:()=>l});var t=r(7537),a=r.n(t),o=r(3645),i=r.n(o)()(a());i.push([e.id,".profile__wrap{max-width:600px;background-color:rgba(255,211,0,.4509803922);padding:90px 90px;outline:1px solid #fff;box-shadow:0 0 30px rgba(255,211,0,.4509803922);margin:0 auto;display:flex;flex-direction:column;align-items:center}.profile__icon{font-size:100px}.profile__username{color:#fff;margin:20px 0;letter-spacing:.5px}.profile__change--default{display:none}.profile__change{display:flex;justify-content:center;padding:5px 10px}.profile__change--login,.profile__change--pass{padding:5px 10px;border:none;outline:none;border-radius:5px;font-size:15px}.logout__text{color:#c73333;font-size:12}.profile__menu{text-align:center}.profile__menu .profile__item{border-top:1px solid #000;font-size:17px;padding:5px 0;cursor:pointer;transition:.2s all}.profile__menu .profile__item:hover{color:#000}.profile__menu .profile__item.profile__item+.profile__item{margin-top:5px}.profile__menu .profile__item:last-child{border-bottom:1px solid #000}","",{version:3,sources:["webpack://./src/Scenes/Profile/profile.scss"],names:[],mappings:"AAAA,eACI,eAAA,CACA,4CAAA,CACA,iBAAA,CACA,sBAAA,CACA,+CAAA,CACA,aAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CAGJ,eACI,eAAA,CAGJ,mBACI,UAAA,CACA,aAAA,CACA,mBAAA,CAGJ,0BACI,YAAA,CAEJ,iBACI,YAAA,CACA,sBAAA,CACA,gBAAA,CAEJ,+CACI,gBAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,cAAA,CAGJ,cACI,aAAA,CACA,YAAA,CAGJ,eACI,iBAAA,CACA,8BACI,yBAAA,CACA,cAAA,CACA,aAAA,CACA,cAAA,CACA,kBAAA,CACA,oCACI,UAAA,CAEJ,2DACI,cAAA,CAEJ,yCACI,4BAAA",sourcesContent:[".profile__wrap {\r\n    max-width: 600px;\r\n    background-color: #ffd30073;\r\n    padding: 90px 90px;\r\n    outline: 1px solid #fff;\r\n    box-shadow: 0 0 30px #ffd30073;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.profile__icon {\r\n    font-size: 100px;\r\n}\r\n\r\n.profile__username {\r\n    color: #ffffff;\r\n    margin: 20px 0;\r\n    letter-spacing: 0.5px;\r\n}\r\n\r\n.profile__change--default {\r\n    display: none;\r\n}\r\n.profile__change {\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 5px 10px;\r\n}\r\n.profile__change--login, .profile__change--pass {\r\n    padding: 5px 10px;\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    font-size: 15px;\r\n}\r\n\r\n.logout__text {\r\n    color: #c73333;\r\n    font-size: 12;\r\n}\r\n\r\n.profile__menu {\r\n    text-align: center;\r\n    .profile__item {\r\n        border-top: 1px solid #000;\r\n        font-size: 17px;\r\n        padding: 5px 0;\r\n        cursor: pointer;\r\n        transition: 0.2s all;\r\n        &:hover {\r\n            color: #000;\r\n        }\r\n        &.profile__item + .profile__item {\r\n            margin-top: 5px;\r\n        }\r\n        &:last-child {\r\n            border-bottom: 1px solid #000;\r\n        }\r\n    }\r\n}"],sourceRoot:""}]);const l=i}}]);
//# sourceMappingURL=879.d2fb0736bcecf3f9c879.js.map